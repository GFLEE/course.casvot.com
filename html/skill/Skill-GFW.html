<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="ie ie6" lang="en"> <![endif]-->
<!--[if IE 7 ]><html class="ie ie7" lang="en"> <![endif]-->
<!--[if IE 8 ]><html class="ie ie8" lang="en"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!--><html lang="en"> <!--<![endif]-->
<head>

    <!-- Basic Page Needs
  ================================================== -->
	<meta charset="utf-8">
	<title>Skill-GFW</title>
	<link rel="icon" href="../images/cat.ico" type="image/x-icon" />
	<meta name="description" content="Free Responsive Html5 Css3 Templates ">
	<meta name="author" content="#">
	
    <!-- Mobile Specific Metas
	================================================== -->
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
   <!-- highlight-->
   <meta http-equiv="content-type" content="text/html;charset=utf-8">  
    <link rel="stylesheet" href="../lifestyle/review/contens/highlight/styles/default.css">  
    <script src="../lifestyle/review/contens/highlight/highlight.pack.js"></script>  
	<script>hljs.initHighlightingOnLoad();</script>
    
    <!-- CSS
	================================================== -->
  	<link rel="stylesheet" href="../css/zerogrid.css">
	<link rel="stylesheet" href="../css/style.css">
	
	<!-- Custom Fonts -->
    <link href="../font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
	
	
	<link rel="stylesheet" href="../css/menu.css">
	<script src="../js/jquery1111.min.js" type="text/javascript"></script>
	<script src="../js/script.js"></script>
	
	<!-- Owl Carousel Assets -->
    <link href="../owl-carousel/owl.carousel.css" rel="stylesheet">
	
	<!--[if lt IE 8]>
       <div style=' clear: both; text-align:center; position: relative;'>
         <a href="http://windows.microsoft.com/en-US/internet-explorer/Items/ie/home?ocid=ie6_countdown_bannercode">
           <img src="http://storage.ie6countdown.com/assets/100/images/banners/warning_bar_0000_us.jpg" border="0" height="42" width="820" alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today." />
        </a>
      </div>
    <![endif]-->
    <!--[if lt IE 9]>
		<script src="js/html5.js"></script>
		<script src="js/css3-mediaqueries.js"></script>
	<![endif]-->
	
</head>

<body>
	<div class="wrap-body">
		<div id='cssmenu' class="align-center">
			<ul>
			   <li><a href='../index.html'><span>Home</span></a></li>
			   <li class=' has-sub'><a href='#'><span>Blog</span></a>
				  <ul >
					 <li class='has-sub'><a href='#'><span>Technology</span></a>
						<ul>
						   <li><a href='#'><span>Summarize</span></a></li>
						   <li class='last'><a href='#'><span>Learn More</span></a></li>
						</ul>
					 </li>
					 <li class='has-sub'><a href='#'><span>Life</span></a>
						<ul>
						   <li><a href='#'><span>Philosophy</span></a></li>
						   <li class='last'><a href='#'><span>Arts</span></a></li>
						   <li class='last'><a href='#'><span>History</span></a></li>
						</ul>
					 </li>
				  </ul>
			   </li>
			     <li class='last'><a href='../contact.html'><span>Contacts</span></a></li>
			   <li class='active'><a href='../about.html'><span>About</span></a></li>
			 
			</ul>
		</div>
		<header class="">
			<div class="logo">
				<hr class="line-1">
				<a href="#">Lee</a>
				<span><strong>Write the code,Change the world</strong></span>
				<hr class="line-1">
			</div>
		</header>
		<!--////////////////////////////////////Container-->
		<section id="container">
			<div class="wrap-container">
				<!-----------------Content-Box-------------------->
				<article class="single-post zerogrid">
					<div class="row wrap-post"><!--Start Box-->
						<div class="entry-header">
							<span class="time">Sep 14, 2017</span>
							<h2 class="entry-title"><a href="#">write the code ,change the world</a></h2>
							<span class="cat-links"><a href="#">blog</a>, <a href="#">GFW</a></span>
						</div>
						<div class="post-thumbnail-wrap">
							<img src="gfw-img/141230130450-great-firewall-of-china-1024x576.jpg">
						</div>  <br><br>
<h1>中国长城防火墙</h1>						
	<p>防火长城（GFW），也称之为中国国家防火墙；是中国政府于1998年在其网络管辖范围内设计的大型互联网审查系统，其首席设计师是中国工程院院士，中国北京邮电大学（BUPT）前校长方滨兴，</p><br>
				<div class="post-thumbnail-wrap">
					<img src="../images/Topology_of_the_Chinese_firewall.svg.png">
					<p>pic-1 GFW基本拓扑</p>
				</div>	<h2>Ⅰ 初衷</h2>
					<p>大多数国家都设有国家级的网络监管系统；中国防火长城的作用主要是监控国际网关上的通讯，对认为不匹配中共官方要求的传输内容，进行干扰、阻断、屏蔽。由于中国网络审查广泛，中国国内含有“不合适”内容的网站，会受到政府直接的行政干预，被要求自我审查、自我监管，乃至关闭，故防火长城主要作用在于分析和过滤中国境外网络的信息互相访问。</p>				
	<br>
					<h2>Ⅱ 主要技术</h2><br>
					<h3>1.DNS服务器缓存污染</h3>					
					<p>
					防火长城对所有经过骨干出口路由的在UDP的53端口上的域名查询进行IDS入侵检测，一经发现与黑名单关键词相匹配的域名查询请求，防火长城会马上伪装成目标域名的解析服务器给查询者返回虚假结果。由于通常的域名查询没有任何认证机制，而且域名查询通常基于的UDP协议是无连接不可靠的协议，查询者只能接受最先到达的格式正确结果，并丢弃之后的结果。用户若改用TCP在53端口上进行DNS查询，虽然不会被防火长城污染，但可能会遭遇连接重置，导致无法获得目标网站的IP地址。<br>
					<div class="post-thumbnail-wrap">
		<img src="gfw-img/201403202808002.jpg">
		<p>pic-2 DNS服务图解</p>
	</div>
					<ul>
						<li style="list-style:url(../images/point-large.png)">2010年3月，当美国和智利的用户试图访问热门社交网站如facebook.com和youtube.com还有twitter.com等域名，他们的域名查询请求转交给中国控制的DNS根镜像服务器处理，由于这些网站在中国被封锁，结果用户收到了错误的DNS解析信息，这意味着防火长城的DNS污染已影响国际互联网。</li>
						<li style="list-style:url(../images/point-large.png)">2010年4月8日，中国大陆一个小型ISP的错误路由数据，经过中国电信的二次传播，扩散到了整个国际互联网，波及到了AT&T、Level3、德国电信、Qwest和西班牙电信等多个国家的大型ISP。</li>
						<li style="list-style:url(../images/point-large.png)">2012年11月9日下午3点半开始，防火长城对Google的泛域名*.google.com进行了大面积的污染，所有以.google.com结尾的域名均遭到污染而解析错误不能正常访问，其中甚至包括不存在的域名，而Google为各国定制的域名也遭到不同程度的污染（因为Google通过使用CNAME记录来平衡访问的流量，CNAME记录大多亦为.google.com结尾），但Google拥有的其它域名如.googleusercontent.com等则不受影响。有网友推测Google被大面积阻碍连接是因为中共正在召开的十八大。</li>
						<li style="list-style:url(../images/point-large.png)">2015年1月2日起，污染方式升级，不再是解析到固定的无效IP，而是随机地指向境外的有效IP。刚开始只是对YouTube视频域名（*.googlevideo.com）进行处理，之后逐渐扩大到大多数被污染的域名。[22]这导致了境外服务器遭受来自中国的DDoS攻击，部分网站因此屏蔽中国IP。</li>
					</ul>
					
					</p><br>
<h3>2.IP封锁</h3>
<p>相对于之前的在域名解析上做手脚访问控制技术，这个技术的效率更高；在带有被禁IP的数据包在进行路由时，路由器可以根据IP控制它们去向某个错误的服务器-黑洞服务器，通过RIP；这个数据包可以扩散到整个网络。</p>
<div class="post-thumbnail-wrap">
					<img src="gfw-img/ip_traffic_v2.gif">
					<p>pic-3 IP network</p>
					</div>
<ul>
	<li style="list-style:url(../images/point-large.png)">20世纪90年代初期，中国大陆只有教育网、中国科学院高能物理研究所（高能所）和公用数据网3个国家级网关出口</li>
</ul>	<br>					
<h3>3.基于IP的端口地址封锁</h3>
<p>防火长城配合上文中特定IP地址封锁里路由扩散技术封锁的方法进一步精确到端口，从而使发往特定IP地址上特定端口的数据包全部被丢弃而达到封锁目的，使该IP地址上服务器的部分功能无法在中国大陆境内正常使用。</p>
<ul>
	<li style="list-style:url(../images/point-large.png)">经常遭到封锁的端口有22（SSH），80（HTTP），443（SSL/HTTPS）</li>
	<li style="list-style:url(../images/point-large.png)">2011年3月起,中国GFW对Google的部分IP的部分443端口实施了自动封锁，有趣的是；每隔10-15分钟连接会自动接通，然后再截断，再连通；使中国用户和Google主机的连接出现间歇性的中断，谷歌官方解释说这种手法是高明的，因为连接并非被完全阻断，营造出Google服务“不稳定”的现象，看起来问题好像出自Google本身。</li>
	
</ul><br>	
<h3>3.重置TCP连接</h3>
<p>当我们访问一些境外网站时，常常会遇到“连接被重置”；防火长城会监控特定IP地址的所有数据包，若发现匹配的黑名单动作（例如TLS加密连接的握手），其会直接在TCP连接握手的第二步即SYN-ACK之后伪装成对方向连接两端的计算机发送RST数据包（RESET）重置连接，使用户无法正常连接至服务器。</p>
<div class="post-thumbnail-wrap">
			<img src="gfw-img/three_way_handshake.jpg">
			<p>pic-3 TCP three-way handshake</p>
				
					</div>
<p>这种方法和特定IP地址端口封锁时直接丢弃数据包不一样，因为是直接切断双方连接因此封锁成本很低，故对于Google的多项（强制）加密服务例如Google文档、Google网上论坛、Google+和Google个人资料等的TLS加密连接都是采取这种方法予以封锁。</p><br>

<h3>3.关键字过滤</h3><br>
<h4>1) 针对TCP协议的阻断</h4>
<p>TCP重置是TCP协议的一种消息，用于重置连接。</p><br>
					<h4>2)针对HTTP协议的阻断</h4>
					<p>
<ul>
	<li style="list-style:url(../images/point-large.png)">普通的关键词如果出现在HTTP请求数据包的头部（如“Host: www.youtube.com”）时，则会马上伪装成对方向连接两端的计算机发送RST数据包（Reset）干扰两者间正常的TCP连接，进而使请求的内容无法继续查看。</li>
	<li style="list-style:url(../images/point-large.png)">由于HTTPS采取加密传输，关键词阻断无法对网页传输造成影响。但由于身份认证证书信息是明文传输，因此阻断仍然是有可能的。</li>
</ul></p><br>
<h4>3)干扰eD2k协议的连接</h4><br>
<h3>4.对VPN的反制</h3>
<p>中国用户擅于使用VPN来访问外网，于是中国政府采取各种手段监控，干扰，打击翻墙软件；而且每到有重要节日或者有重要事件发生时，中国政府会加大审查力度</p>
<h3>5.路由阻断、深度包检测、IPv6审查、电子邮件拦截</h3>
<p>这些技术都被多多少少地用在了GFW中，日后再来详细补充</p>
<br>
					<h3>6.硬件</h3><p>GFW采用的是分布式的服务器集群，防火长城可能拥有数百台曙光4000L服务器，分布于全国各大城市，包括北京，上海，哈尔滨工业大学等;GFW总吞吐量可达512GBps。</p>
					<br>
					
	<h2>Ⅲ 事件</h2><br>
	<ul>
		<li style="list-style:url(../images/point-large.png)"><strong>Google退出中国 ,</strong>&nbsp;2010年1月12日，Google公司声称遭中国的黑客攻击，暗指这些黑客攻击具有政府官方背景<b>(据Google官方ip追踪，攻击来源于中国蓝翔技校和上海交通大学；我就笑了。)</b>，并透露在中国业务方面与中国政府的冲突。长期以来以接收中国政府行政命令标志的红头文件的形式配合审查让Google相当不满，一直对中国政府的审查要求消极执行。后来谷歌高层被政府官员请去谈话，然后政府工作人员打开谷歌搜索，在搜索框输入一些敏感词，结果预测输入跳出来一些“色情擦边球文字”,就认定Google涉黄。再后来谷歌的两位高层高级工程师高层觉得无法接受，于是就赞成了退出中国大陆的计划。</li>
		<li style="list-style:url(../images/point-large.png)"><strong>Xcodeghost事件 </strong>Xcode为苹果公司所发行、供程序员开发OS X、iOS、watchOS与tvOS应用程序的集成开发环境。由于境内访问AppStorw速度过于缓慢，于是开发者就选择在一些云盘上下载，殊不知该软件被第三方注入木马，结果导致众多包括微信之内的App下架，造成了巨大损失。</li>
		<li style="list-style:url(../images/point-large.png)"><strong>Shadowsocks与GoAgent&nbsp;</strong> shadowsocks是一款代理软件，作者是中国人，结果该作者被当局请去喝茶，详情见<b>&nbsp;<a href="https://github.com/shadowsocks/shadowsocks-iOS/issues/124#issuecomment-133630294" target="_blank">SS作者被政府审查</a></b>，然后这个项目在Github上就被删除了。</li>
	</ul><br>
<h2>Ⅳ 评价</h2>
<p>
	<ul>
	
	<li style="list-style: url(../images/point-large.png)">这种大规模的防火墙或审查系统在各个国家都很常见，在美国则是对各大互联网商实时监控；但在中国则是直接对这些网站的流量进行监控审查。这个东西有利有弊，关于利弊的大小是要对不同的人来进行横向比较。对于一般老百姓，没什么太大的影响。对于一些尤其是外贸方面的工作人员则不是那么方便，对于一些技术人员也不好，不方便了解学习国外的一些新技术。中国政府的主要考虑是防止不正当西方思想和一些极端价值观的渗入中国以及一些反共，反国家的异徒分子（譬如法轮功），恐怖势力的大肆侵入；但是为了保护政府号召力和人民；不得不这么做。</li>
	<li style="list-style: url(../images/point-large.png)">关于GFW的起因以及初期的资料，可以参考 <a href="https://www.newsmax.com/Pre-2008/The-Great-Firewall-China/2002/05/17/id/666750/" target="_blank">The Great Firewall of China</a>,这篇文章有些地方看起来有点主观了，相信作者没有做过深入调查；看看作罢。</li>
	</ul>
</p>
<br>
<h2>Ⅴ 策略</h2>
<p>想要突破防火墙，目前有两种主流方法。第一种较为简单，在你的Windows电脑下的这个路径下：<pre><code class="javascript" style="color:#A0393A">C:\Windows\System32\drivers\etc</code></pre>其中有一个无后缀名的文件叫“hosts”，它存储了IP地址和域名之间的映射，只要ip没有被封锁，理论上是可以连接相应主机的，被封了就gg了；只有等着服务商新购买一批IP。据我所知，Google首页就已经有有几十万个ip，现在封ip的速度很快。在这里我给出最新的hosts文件：<br></p><br>
<div class="post-thumbnail-wrap">
	<a href="http://pan.baidu.com/s/1qY2Y7c4" target="_blank"><img src="gfw-img/文件下载 (1).png" ></a>
	<p><a href="http://pan.baidu.com/s/1qY2Y7c4" target="_blank">hosts download</a></p>
</div><br>
<p>用下载的hosts文件替换原始的hosts即可（<b><strong></strong></b>）,然后在<b>win+R</b>输入<b>cmd</b>进入命令行，输入并执行如下命令：<pre><code class="C++" style="color:#A0393A">ipconfig /flushdns             //刷新DNS缓存</code></pre></p>
<p>至此，你的电脑应该可以访问一些境外网站了。</p>
	<br><br>
	<p>另一种就是使用代理，代理的方式多种多样，简单来讲就是通过别人的电脑上网（建立tunnel）以避开防火墙，目前主流的方式是使用VPN以及搭设Shadowsocks等。前者需付费，而且现在已经被有关部门封杀打压得差不多了；而后者实现起来有着一定的困难。前面提到过ss的作者被警察请去喝茶并被要求删除项目，其实该项目并没有被完全删除，ss的源代码在 <a href="" target="_blank">Shadowaocks on Github</a></p>
	<p>想要正确使用ss，你首先必须有一台墙外的服务器，然后在上面配置shadowsocks(推荐BandWaGon,提供一键ss)。然后就可以你的手机或个人电脑的客户端上使用ss代理了，成功之后你便能看到自己的ip地址被代理成了服务器的ip地址。ss具体配置请见：<a href="https://www.loyalsoldier.me/fuck-the-gfw-with-my-own-shadowsocks-server/" target="_blank">Shadowsocks配置</a></p>
	<p>当然，现在也有很多的免费VPN，比如下面我给出的这个软件：</p>
	<div class="post-thumbnail-wrap">
		<a href="http://pan.baidu.com/s/1c2Iqfk8">PSIPHON</a>
	</div>
	<p>现在<a href="https://github.com/" target="_blank">GitHub</a>上也有很多提供翻墙的插件，软件；例如xx-net等等，如有需要请自行搜索。</p>
</div>
			
				</article>
				<div class="zerogrid">
					<div class="comments-are">
						<div id="comment">
							<h3>Leave a Reply</h3>
							<span>Concat to my world  ,  know more about me and my scool life ,  send me your suggestions </span>
							<form name="form1" id="comment_form" method="post" action="">
								<label>
								<span>Comment:</span>
								<textarea name="message" id="message"></textarea>
								</label>
								<label>
								<span>Name:</span>
								<input type="text"  name="name" id="name" required>
								</label>
								<label>
								<span>Email:</span>
								<input type="email"  name="email" id="email" required>
								</label>
								<center><input class="sendButton" type="submit" name="Submit" value="Submit"></center>
							</form>
						</div>
					</div>
				</div>
			</div>
		</section>
		<!--////////////////////////////////////Footer-->
		<footer>
			<div class="zerogrid wrap-footer">
				<div class="row">
					<div class="bottom-social">
						<a href="https://www.facebook.com/" target="_blank"><i class="fa fa-facebook"></i></a>
						<a href="https://www.instagram.com/" target="_blank"><i class="fa fa-instagram"></i></a>
						<a href="https://twitter.com/" target="_blank"><i class="fa fa-twitter"></i></a>
						<a href="https://github.com/" target="_blank"><i class="fa fa-github-square"></i></a>
						
					</div>
				</div>
				<div class="copyright">
					Copyright @ - Lee - All rights reserved&nbsp;&nbsp;&nbsp;&nbsp;<a href="">LeeGradylll@Gmail.com</a>
				</div>
			</div>
		</footer>
	</div>
</body>
</html>